trade:flip`time`sym`size`price!(`s#09:30 09:31 09:31 09:31 09:32 09:33 09:34 09:34 09:38 09:38 09:39 09:42 09:43 09:45 09:46 09:46 09:51 09:53 09:53 09:54;`MS`BP`MS`JPM`JPM`BP`MS`MS`MS`BP`BP`BP`JPM`BP`MS`BP`MS`BP`MS`BP;7 48 65 96 72 95 39 49 13 80 72 6 84 24 60 0 50 42 54 74;43.5 32.09 43.5 23.39 23.41 32.11 43.5 43.49 43.51 32.09 32.11 32.1 23.41 32.1 43.5 32.1 43.49 32.1 43.51 32.11)
quote:flip`time`sym`bid`ask!(`s#09:25 09:26 09:27 09:28 09:28 09:32 09:33 09:34 09:34 09:35 09:37 09:37 09:37 09:38 09:38 09:39 09:39 09:39 09:39 09:40 09:41 09:44 09:44 09:44 09:46 09:47 09:47 09:47 09:47 09:49 09:50 09:51 09:51 09:51 09:52 09:53 09:53 09:53 09:53 09:54;`MS`BP`BP`BP`MS`MS`BP`MS`MS`MS`JPM`JPM`MS`JPM`JPM`MS`BP`JPM`MS`JPM`JPM`BP`BP`BP`JPM`BP`BP`MS`JPM`MS`BP`JPM`BP`JPM`BP`MS`BP`MS`BP`JPM;43.36 31.89 31.97 31.97 43.35 43.23 31.94 43.33 43.26 43.3 23.13 23.18 43.31 23.22 23.2 43.35 31.81 23.26 43.29 23.16 23.29 31.96 32 31.96 23.12 31.82 31.92 43.31 23.13 43.37 31.81 23.26 31.98 23.26 31.96 43.33 31.97 43.39 31.94 23.23;43.68 32.21 32.3 32.29 43.67 43.55 32.26 43.66 43.58 43.63 23.46 23.51 43.63 23.54 23.53 43.68 32.14 23.59 43.61 23.49 23.61 32.28 32.32 32.28 23.44 32.14 32.24 43.63 23.45 43.69 32.13 23.59 32.3 23.58 32.28 43.65 32.29 43.71 32.26 23.56)


getTQ:{
    tq:aj[`sym`time;trade;quote];
    tq:update mid: (bid+ask)%2 from tq;
    tq:update distBid: price-bid, distAsk: ask-price from tq;
    tq
    }